# 현대 블루링크 Lovelace widget
# 1) Replace YOUR_CAR_SLUG with the slugged car name from your entities
#    (e.g., sensor.ioniq5_driving_range -> YOUR_CAR_SLUG = ioniq5).
# 2) Add this as a Manual card in the dashboard editor or !include it in a YAML dashboard.
# 3) Remove the EV block if your vehicle is not EV/PHEV/FCEV, and drop warnings that do not exist.
type: vertical-stack
title: 현대 블루링크
cards:
  - type: grid
    square: false
    columns: 2
    cards:
      - type: tile
        entity: sensor.YOUR_CAR_SLUG_driving_range
        name: 주행가능거리
        icon: mdi:map-marker-distance
      - type: tile
        entity: sensor.YOUR_CAR_SLUG_odometer
        name: 누적 주행거리
        icon: mdi:counter

  - type: conditional
    conditions:
      - entity: sensor.YOUR_CAR_SLUG_ev_soc
        state_not: unavailable
    card:
      type: grid
      square: false
      columns: 2
      cards:
        - type: gauge
          name: 배터리 잔량
          entity: sensor.YOUR_CAR_SLUG_ev_soc
          min: 0
          max: 100
          needle: true
        - type: entities
          title: 충전 상태
          entities:
            - entity: sensor.YOUR_CAR_SLUG_charging_state
              name: 충전 중
            - entity: sensor.YOUR_CAR_SLUG_charger_connection
              name: 충전 커넥터 연결
            - entity: sensor.YOUR_CAR_SLUG_charging_plug_type
              name: 플러그 타입
            - entity: sensor.YOUR_CAR_SLUG_charging_target_soc
              name: 목표 SOC
            - entity: sensor.YOUR_CAR_SLUG_charging_time_remaining
              name: 남은 시간 (충전 중)
            - entity: sensor.YOUR_CAR_SLUG_charging_time_estimate
              name: 예상 시간 (미충전)

  - type: entity-filter
    card:
      type: entities
      title: 경고등 (ON일 때만 표시)
      state_color: true
    show_empty: false
    state_filter:
      - "on"
      - "true"
      - "True"
      - "1"
    entities:
      - entity: sensor.YOUR_CAR_SLUG_low_fuel_warning
        name: 연료 부족 경고
      - entity: sensor.YOUR_CAR_SLUG_hv_battery_low_warning
        name: HV 배터리 경고 (EV)
      - entity: sensor.YOUR_CAR_SLUG_tire_pressure_warning
        name: 타이어 공기압
      - entity: sensor.YOUR_CAR_SLUG_lamp_warning
        name: 램프/전조등
      - entity: sensor.YOUR_CAR_SLUG_smart_key_battery_warning
        name: 스마트키 배터리
      - entity: sensor.YOUR_CAR_SLUG_washer_fluid_warning
        name: 워셔액
      - entity: sensor.YOUR_CAR_SLUG_brake_fluid_warning
        name: 브레이크 오일
      - entity: sensor.YOUR_CAR_SLUG_engine_oil_warning
        name: 엔진 오일 (ICE/PHEV)

  - type: conditional
    conditions:
      - entity: button.YOUR_CAR_SLUG_force_refresh
        state_not: unavailable
    card:
      type: tile
      entity: button.YOUR_CAR_SLUG_force_refresh
      name: 수동 새로고침
      icon: mdi:refresh
